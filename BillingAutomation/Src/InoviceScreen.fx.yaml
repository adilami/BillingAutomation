InoviceScreen As screen:

    lblInvoice As label:
        Height: =32
        Text: |-
            ="Invoice
            "
        X: =79
        Y: =95
        ZIndex: =1

    txtInvoice As text:
        Default: =Text(First(InvoiceNumbers).InvoiceNo)
        DisplayMode: =DisplayMode.Disabled
        X: =79
        Y: =138
        ZIndex: =2

    lblRate As label:
        Height: =32
        Text: |-
            ="Rate
            "
        X: =79
        Y: =178
        ZIndex: =3

    txtRate As text:
        Default: |
            =If(drpBankName.SelectedText.Value="NEPAL SBI BANK LTD.",Sum(galBankWisePOSDetail.AllItems,lblFinalAmtContent.Text)*7%/12,Sum(galBankWisePOSDetail.AllItems,lblFinalAmtContent.Text))
        DisplayMode: =DisplayMode.Disabled
        FontWeight: =FontWeight.Bold
        Size: =16
        X: =79
        Y: =210
        ZIndex: =4

    lblAmount As label:
        Height: =32
        Text: ="Amount"
        X: =465
        Y: =95
        ZIndex: =5

    txtAmount As text:
        Default: |
            =If(drpBankName.SelectedText.Value="NEPAL SBI BANK LTD.",Sum(galBankWisePOSDetail.AllItems,lblFinalAmtContent.Text)*7%/12,Sum(galBankWisePOSDetail.AllItems,lblFinalAmtContent.Text))
        DisplayMode: =DisplayMode.Disabled
        FontWeight: =FontWeight.Bold
        Size: =16
        X: =465
        Y: =133
        ZIndex: =6

    lblDueDate As label:
        Height: =32
        Text: |-
            ="Due Date
            "
        X: =465
        Y: =173
        ZIndex: =7

    dteDueDate As datepicker:
        Height: =45
        Width: =314
        X: =471
        Y: =205
        ZIndex: =8

    btnGenerateInv As button:
        FontWeight: =FontWeight.Bold
        Height: =60
        OnSelect: |
            =If(
                DateValue(dteDueDate.SelectedDate) < Today() || Text(drpMonth.SelectedText.Value) = "Select Month" || txtRate.Text = "" || txtInvoice.Text,
                Notify(
                    "Please select the value in drop down or valid date",
                    NotificationType.Error
                ),
                ClearCollect(
                    colInvoiceNo,
                    InvoiceNumbers
                );
                RemoveIf(
                    InvoiceNumbers,
                    true
                );
                Patch(
                    InvoiceNumbers,
                    Defaults(InvoiceNumbers),
                    {InvoiceNo: Text(Value(First(colInvoiceNo).InvoiceNo + 1))}
                );
                ClearCollect(
                    colInvoice,
                    Filter(
                        colAllData,
                        BankName = drpBankName.SelectedText.Value And ThisRecord.Date < dteToDate.SelectedDate
                    )
                );
                Invoice.Run(
                    JSON(colInvoice),
                    If(
                        drpBankName.SelectedText.Value = "NABIL BANK LTD.",
                        "Nabil",
                        If(
                            drpBankName.SelectedText.Value = "NEPAL BANK LTD.",
                            "Nepal Bank",
                            If(
                                drpBankName.SelectedText.Value = "BANK OF KATHMANDU LTD.",
                                "BOK",
                                If(
                                    drpBankName.SelectedText.Value = "GLOBAL IME BANK LTD.",
                                    "Global",
                                    If(
                                        drpBankName.SelectedText.Value = "JYOTI BIKASH BANK LTD.",
                                        "JBBL",
                                        If(
                                            drpBankName.SelectedText.Value = "KUMARI BANK LTD.",
                                            "Kumari",
                                            If(
                                                drpBankName.SelectedText.Value = "LAXMI SUNRISE BANK LTD.",
                                                "Laxmi Sunrise",
                                                If(
                                                    drpBankName.SelectedText.Value = "LUMBINI BIKAS BANK LTD.",
                                                    "LBBL",
                                                    If(
                                                        drpBankName.SelectedText.Value = "MEGA BANK NEPAL LTD.",
                                                        "Mega",
                                                        If(
                                                            drpBankName.SelectedText.Value = "NEPAL INVESTMENT BANK LTD.",
                                                            "NIBL",
                                                            If(
                                                                drpBankName.SelectedText.Value = "NEPAL SBI BANK LTD.",
                                                                "SBI",
                                                                If(
                                                                    drpBankName.SelectedText.Value = "PRABHU BANK LTD.",
                                                                    "Prabhu",
                                                                    If(
                                                                        drpBankName.SelectedText.Value = "SIDDHARTHA BANK LTD.",
                                                                        "Siddhartha",
                                                                        If(
                                                                            drpBankName.SelectedText.Value = "MACHHAPUCHCHHRE BANK LTD.",
                                                                            "MBL",
                                                                            If(
                                                                                drpBankName.SelectedText.Value = "CITIZENS BANK INTERNATIONAL LTD.",
                                                                                "Citizen"
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    ),
                    Text(txtRate.Text),
                    Text(Value(txtRate.Text) * 13%),
                    Text(txtRate.Text),
                    Text(First(colInvoiceNo).InvoiceNo),
                    dteDueDate.SelectedDate,
                    Text(Value(txtRate.Text) + Value(txtRate.Text) * 13%),
                    Text(drpMonth.SelectedText.Value),
                    If(
                    drpBankName.SelectedText.Value = "NABIL BANK LTD.",
                    "praful.tamrakar@imark.com.np",
                    If(
                        drpBankName.SelectedText.Value = "NEPAL BANK LTD.",
                        "hari.bhatta@imark.com.np",
                        If(
                            drpBankName.SelectedText.Value = "BANK OF KATHMANDU LTD.",
                            "BOK",
                            If(
                                drpBankName.SelectedText.Value = "GLOBAL IME BANK LTD.",
                                "Global",
                                If(
                                    drpBankName.SelectedText.Value = "JYOTI BIKASH BANK LTD.",
                                    "JBBL",
                                    If(
                                        drpBankName.SelectedText.Value = "KUMARI BANK LTD.",
                                        "Kumari",
                                        If(
                                            drpBankName.SelectedText.Value = "LAXMI SUNRISE BANK LTD.",
                                            "Laxmi Sunrise",
                                            If(
                                                drpBankName.SelectedText.Value = "LUMBINI BIKAS BANK LTD.",
                                                "LBBL",
                                                If(
                                                    drpBankName.SelectedText.Value = "MEGA BANK NEPAL LTD.",
                                                    "praful.tamrakar@imark.com.np",
                                                    If(
                                                        drpBankName.SelectedText.Value = "NEPAL INVESTMENT BANK LTD.",
                                                        "NIBL",
                                                        If(
                                                            drpBankName.SelectedText.Value = "NEPAL SBI BANK LTD.",
                                                            "SBI",
                                                            If(
                                                                drpBankName.SelectedText.Value = "PRABHU BANK LTD.",
                                                                "Prabhu",
                                                                If(
                                                                    drpBankName.SelectedText.Value = "SIDDHARTHA BANK LTD.",
                                                                    "Siddhartha",
                                                                    If(
                                                                        drpBankName.SelectedText.Value = "MACHHAPUCHCHHRE BANK LTD.",
                                                                        "hari.bhatta@imark.com.np",
                                                                        If(
                                                                            drpBankName.SelectedText.Value = "CITIZENS BANK INTERNATIONAL LTD.",
                                                                            "Citizen"
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
                );
                Notify(
                    "Successfull",
                    NotificationType.Success
                );
                
            );
        Text: ="Generate Invoice"
        Width: =248
        X: =79
        Y: =431
        ZIndex: =9

    lblSelectMonth As label:
        Text: ="Select Month"
        X: =79
        Y: =265
        ZIndex: =10

    drpMonth As dropdown:
        Items: =["Select Month","Baisakh","Jestha","Asadh","Shrawan","Bhadra","Ashoj","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"]
        X: =79
        Y: =305
        ZIndex: =11

    btnBack As button:
        BorderThickness: =8
        Fill: =RGBA(255, 255, 255, 1)
        Height: =60
        OnSelect: =Navigate(FetchBankWisePOSReport,ScreenTransition.Fade);
        RadiusBottomLeft: =100
        RadiusBottomRight: =100
        RadiusTopLeft: =100
        RadiusTopRight: =100
        Text: =""
        Width: =60
        X: =12
        Y: =12
        ZIndex: =12

    Icon1 As icon.ArrowLeft:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =40
        Icon: =Icon.ArrowLeft
        Width: =40
        X: =22
        Y: =22
        ZIndex: =13

